# שאלה 1

## שאלון 97104, קיץ תשפ"ה – 2025 – מועד א'

**חלק א' - ענו על שלוש מבין השאלות 1-4 (ערך כל שאלה – 12 נקודות)**

## שאלה 1 (12 נקודות)

בשיטת ההצפנה "סטופיד" משתמשים כדי להצפין מסר סודי ללא שימוש בכלים ואלגוריתמים מתקדמים.

לשיטה שלושה שלבים:
• הסרת רווחים מהמסר המקורי.
• החלפת סדר התווים בכל זוג תווים צמודים (אם מספר התווים אי-זוגי, התו האחרון נשאר ללא שינוי).
• כתיבת התווים מהסוף להתחלה (הפיכת סדר התווים).

**לדוגמה:**
אם הטקסט המקורי היה "Hello World!" אז הטקסט המוצפן יהיה "!ldoroWllHe".

```
Hello World! → HelloWorld! → eHllWorodl! → !ldoroWllHe
```

כתבו פעולה אשר מקבלת מחרוזת ומחזירה מחרוזת מוצפנת.

## פתרון

```java
public static String encrypt(String message) {
    // שלב 1: הסרת רווחים
    String noSpaces = "";
    for (int i = 0; i < message.length(); i++) {
        char c = message.charAt(i);
        if (c != ' ') {
            noSpaces = noSpaces + c;
        }
    }
    
    // שלב 2: החלפת סדר כל זוג תווים צמודים
    String swapped = "";
    int i = 0;
    while (i < noSpaces.length() - 1) {
        swapped = swapped + noSpaces.charAt(i + 1) + noSpaces.charAt(i);
        i += 2;
    }
    if (i < noSpaces.length()) {
        swapped = swapped + noSpaces.charAt(i);
    }
    
    // שלב 3: הפיכת סדר התווים
    String reversed = "";
    for (int j = swapped.length() - 1; j >= 0; j--) {
        reversed = reversed + swapped.charAt(j);
    }
    
    return reversed;
}
```

---
## 📚 הסבר התרגיל – כיצד לפתור?

### מהי הבעיה?
הצפנת מחרוזת בשלושה שלבים: 1) הסרת רווחים 2) החלפת זוגות תווים 3) היפוך מלא

### אלגוריתם:

**שלב 1 – הסרת רווחים:**
- סרוק את המחרוזת תו אחר תו
- אם `charAt(i) != ' '` → הוסף למחרוזת חדשה

**שלב 2 – החלפת זוגות:**
- לולאה עם `i += 2` (קפיצות של 2)
- החלף תו i עם תו i+1: קח קודם את i+1 ואחריו את i
- **אם אורך אי-זוגי:** התו האחרון נשאר במקומו

**שלב 3 – היפוך:**
- סרוק מהסוף להתחלה: `for(i = len-1; i >= 0; i--)`
- בנה מחרוזת הפוכה

### 🎯 מה להקפיד:

✅ **תנאים קצה:**
- מחרוזת עם רק רווחים → מחרוזת ריקה אחרי שלב 1
- מחרוזת באורך 1 (אחרי הסרת רווחים) → לא מתחלפת
- מחרוזת באורך זוגי vs אי-זוגי

✅ **טעויות נפוצות:**
1. **שכחה של התו האחרון** אם אורך אי-זוגי אחרי שלב 1
2. **החלפה בסדר לא נכון** - צריך i+1 לפני i
3. **היפוך לפני החלפה** - הסדר חשוב!
4. **בדיקת אורך לפני הסרת רווחים** במקום אחרי

✅ **כיצד לבדוק את הקוד:**
- "Hello World!" → הסרה: "HelloWorld!" (אורך 11, אי-זוגי)
  → החלפה: "el!ldroWlH" + "!" → היפוך: "!HlWordle!"
- "ab cd" → "abcd" (זוגי) → "badc" → "cdab"

---
---